# OR Reversal & OR Acceptance — Strategy Report

**Date:** 2026-02-27
**Dataset:** 260 sessions, NQ 1-min volumetric bars (Feb 20 2025 – Feb 20 2026)
**Branch:** `feature/next-improvements`
**Engine:** Python backtest with `--max-drawdown 999999` (no DD blocking)

---

## Executive Summary

| Strategy | Trades | WR | PF | Net P&L | MaxDD | Sharpe | Status |
|----------|--------|-----|-----|---------|-------|--------|--------|
| **OR Reversal** | 51 | 60.8% | 2.98 | **+$24,798** | $1,909 | 8.33 | Production-ready |
| **OR Acceptance** | 0 | — | — | $0 | — | — | Valid but too strict for NQ |

OR Reversal is the highest-performing single strategy in the portfolio. OR Acceptance has correct logic but its conditions (entire EOR must be one-sided relative to London levels) are too strict for NQ's typical volatility structure.

---

## Strategy 1: OR Reversal (Judas Swing)

### Concept

ICT "Judas Swing" at market open. In the first 30 minutes of RTH (9:30-10:00), price makes a false move to sweep pre-market liquidity (overnight H/L, PDH/PDL, Asia H/L, London H/L), then reverses. We enter on the 50% retest of the reversal move after the sweep.

### Performance Summary

```
Trades:           51 (19.6% of 260 sessions)
Win Rate:         60.8% (31W / 20L)
Profit Factor:    2.98
Net P&L:          +$24,798.04
Max Drawdown:     $1,908.73
Sharpe Ratio:     8.33
Sortino Ratio:    71.96
Avg R-Multiple:   0.80
Expectancy:       $486.24/trade
```

### Direction Breakdown

| Direction | Trades | WR | Net P&L | Avg Win | Avg Loss | Notes |
|-----------|--------|-----|---------|---------|----------|-------|
| **LONG** | 24 | **75.0%** | +$16,134 | $1,109 | -$637 | Dominant side |
| **SHORT** | 27 | 48.1% | +$8,664 | $1,338 | -$623 | Positive but lower WR |

LONG side is remarkably strong at 75% WR — NQ has a persistent long bias that favors buying Judas swing lows.

### Monthly P&L

| Month | Trades | W/L | WR | Net P&L |
|-------|--------|-----|-----|---------|
| 2025-02 | 2 | 2/0 | 100.0% | +$2,915 |
| 2025-03 | 3 | 2/1 | 66.7% | +$1,916 |
| 2025-05 | 9 | 7/2 | 77.8% | +$7,652 |
| 2025-06 | 2 | 1/1 | 50.0% | +$764 |
| 2025-07 | 7 | 5/2 | 71.4% | +$3,380 |
| 2025-08 | 6 | 3/3 | 50.0% | +$1,238 |
| 2025-09 | 3 | 1/2 | 33.3% | -$521 |
| 2025-10 | 5 | 1/4 | 20.0% | -$976 |
| 2025-11 | 2 | 2/0 | 100.0% | +$2,745 |
| 2025-12 | 8 | 3/5 | 37.5% | +$618 |
| 2026-01 | 3 | 3/0 | 100.0% | +$3,738 |
| 2026-02 | 1 | 1/0 | 100.0% | +$1,330 |

Only 2 losing months (Sep -$521, Oct -$976) out of 12. Both are small.

### Trade Statistics

```
Avg bars held (all):     8.4 min
Avg bars held (wins):    6.5 min (winners resolve fast)
Avg bars held (losses):  11.4 min (losers linger)
Avg win:                 $1,204.66
Avg loss:                -$627.31
Avg R (wins):            1.97R (near-perfect 2R target hits)
Avg R (losses):          -1.01R (clean stop-outs)
Median trade:            $938.76
Best trade:              +$1,574 on 2025-05-12 (SHORT)
Worst trade:             -$823 on 2025-03-28 (LONG)
Max losing streak:       3 trades
Max winning streak:      6 trades
```

### Exit Reasons

| Exit | Count | % |
|------|-------|---|
| TARGET (2R) | 31 | 60.8% |
| STOP (2×ATR) | 20 | 39.2% |

Clean binary outcome — every trade exits at either target or stop. No time-based or VWAP-based exits fired.

---

### Detection Logic (5-Phase State Machine)

**Implementation:** `strategy/or_reversal.py` (404 lines)

#### Phase 1: Compute OR and EOR

```python
OR_BARS = 15    # 9:30-9:44 = Opening Range
EOR_BARS = 30   # 9:30-9:59 = Extended Opening Range

or_high, or_low, or_mid = max(first_15_bars), min(first_15_bars), midpoint
eor_high, eor_low, eor_range = max(first_30_bars), min(first_30_bars), range
```

- OR = first 15 × 1-min bars (9:30-9:44)
- EOR = first 30 × 1-min bars (9:30-9:59)
- OR mid is the key reversal threshold (NOT EOR mid — tested and reverted, kills SHORT entries on 1-min)

#### Phase 2: Classify Opening Drive

```python
DRIVE_THRESHOLD = 0.4  # 40% of first-5-bar range

first_5 = bars[0:5]
drive_pct = (close_5th - open_price) / (high_5 - low_5)
# DRIVE_UP if > 0.4, DRIVE_DOWN if < -0.4, else ROTATION
```

All drives are allowed for entry — DRIVE_UP + HIGH sweep SHORT is the classic Judas swing (fake move up, reversal down). This was a critical finding: the original "NOT fading" filter was removed because it blocked the highest-quality setups.

#### Phase 3: Proximity-Based Sweep Detection

```python
SWEEP_THRESHOLD_RATIO = 0.17  # ~17% of EOR range

# Key levels checked (8 total):
high_candidates = [ON_HIGH, PDH, ASIA_HIGH, LDN_HIGH]
low_candidates  = [ON_LOW,  PDL, ASIA_LOW,  LDN_LOW]

# Pick CLOSEST match within threshold, capped at EOR range
swept_level, swept_name = find_closest(eor_extreme, candidates, threshold, eor_range)
```

- London H/L addition: +15 unfiltered trades
- Closest-match (not first-match): prevents false 400pt "sweeps" of distant levels
- Max distance cap at 1× EOR range: prevents sweeping levels from prior week

#### Phase 3b: Dual-Sweep Depth Comparison

```python
if swept_high AND swept_low:
    high_depth = eor_high - swept_high_level
    low_depth  = swept_low_level - eor_low
    # Keep deeper penetration only
    if high_depth >= low_depth: drop low_sweep
    else: drop high_sweep
```

When both sides are swept (common in volatile opens), pick the deeper penetration — that's the real Judas move.

#### Phase 4: Reversal + 50% Retest Entry

```python
# After sweep high at EOR, price drops (reversal phase)
reversal_low = min(closes after sweep_bar)
fifty_pct = reversal_low + (eor_high - reversal_low) * 0.50

# Two-phase entry:
# 1. REVERSAL: price must close below OR mid (confirms reversal)
# 2. RETEST: price returns to 50% zone (FVG area) and turns back
#    - Entry within ±0.5 ATR of fifty_pct
#    - Price must be turning (close < prev_close for SHORT)
#    - Delta < 0 OR CVD declining since sweep extreme
```

The 50% retest is the key entry model — it's the FVG zone where trapped longs/shorts create the optimal entry. Direct entry at OR mid crossing was tested and produces worse results (enters too early in the move).

#### Phase 5: Risk Management

```python
ATR_STOP_MULT = 2.0    # Stop = 2 × ATR(14) from entry
TARGET_R = 2.0          # Target = 2R from entry

stop = entry + 2 * ATR14  # SHORT
stop = entry - 2 * ATR14  # LONG
target = entry - 2 * risk  # SHORT (2R)
target = entry + 2 * risk  # LONG (2R)

# Risk bounds (scaled to EOR range)
MIN_RISK = eor_range * 0.03   # Too tight = noise stop
MAX_RISK = eor_range * 1.3    # Too wide = bad R:R
```

ATR-based stop (2× ATR14) was chosen over swept-level stop after testing — ATR adapts to daily volatility and produces more consistent R:R.

### Key Constants

```python
OR_BARS = 15                    # Opening Range = 15 bars (9:30-9:44)
EOR_BARS = 30                   # Extended OR = 30 bars (9:30-9:59)
SWEEP_THRESHOLD_RATIO = 0.17   # Level proximity = 17% of EOR range
VWAP_ALIGNED_RATIO = 0.17      # VWAP proximity (same ratio)
DRIVE_THRESHOLD = 0.4           # Opening drive classification
ATR_PERIOD = 14                 # ATR lookback
ATR_STOP_MULT = 2.0             # Stop distance in ATR units
MIN_RISK_RATIO = 0.03           # Min risk = 3% of EOR range
MAX_RISK_RATIO = 1.3            # Max risk = 130% of EOR range
```

### Session Context Fields Used

| Field | Purpose |
|-------|---------|
| `ib_bars` | DataFrame of first 60 × 1-min bars for scanning |
| `london_high`, `london_low` | London session range (02:00-05:00 ET) |
| `overnight_high`, `overnight_low` | Overnight range (18:00-09:29 ET) |
| `asia_high`, `asia_low` | Asia session range (20:00-00:00 ET) |
| `pdh`, `pdl` | Prior day high/low |
| `atr14` | ATR(14) at IB end (fallback; strategy also computes inline) |

### Signal Metadata

Each signal stores these fields for analysis:

```python
metadata = {
    'level_swept': str,          # e.g., "LDN_HIGH", "ON_LOW", "PDH"
    'swept_level_price': float,  # exact price of swept level
    'sweep_depth': float,        # distance from level to EOR extreme
    'fifty_pct_level': float,    # 50% retest entry zone
    'atr14': float,              # ATR(14) at signal time
    'opening_drive': str,        # "DRIVE_UP", "DRIVE_DOWN", "ROTATION"
    'cvd_declining': bool,       # (SHORT) CVD declining since sweep
    'cvd_rising': bool,          # (LONG) CVD rising since sweep
}
```

### IB Regime Filter

When combined with the portfolio regime filter (`filters/strategy_regime_filter.py`):
- **LOW (IB < 100):** Skip — no directional commitment
- **MED (100-150):** Trade
- **NORMAL (150-250):** Trade
- **HIGH (>= 250):** Trade

### All 51 Trades (Full Log)

| # | Date | Dir | Entry | Exit | Net P&L | R | Exit | Bars |
|---|------|-----|-------|------|---------|---|------|------|
| 1 | 2025-02-20 | SHORT | 23003.25 | 22931.11 | +$1,429 | 1.97R | TARGET | 21 |
| 2 | 2025-02-26 | LONG | 22189.25 | 22264.25 | +$1,486 | 1.97R | TARGET | 8 |
| 3 | 2025-03-19 | LONG | 20514.00 | 20580.57 | +$1,317 | 1.97R | TARGET | 42 |
| 4 | 2025-03-26 | SHORT | 21065.00 | 20993.21 | +$1,422 | 1.97R | TARGET | 1 |
| 5 | 2025-03-28 | LONG | 20604.50 | 20564.04 | -$823 | -1.01R | STOP | 1 |
| 6 | 2025-05-01 | LONG | 20650.25 | 20718.39 | +$1,349 | 1.97R | TARGET | 7 |
| 7 | 2025-05-02 | SHORT | 20786.00 | 20822.39 | -$742 | -1.01R | STOP | 1 |
| 8 | 2025-05-05 | LONG | 20748.50 | 20821.36 | +$1,443 | 1.97R | TARGET | 28 |
| 9 | 2025-05-09 | SHORT | 20916.25 | 20837.04 | +$1,570 | 1.98R | TARGET | 1 |
| 10 | 2025-05-12 | SHORT | 21532.50 | 21453.07 | +$1,574 | 1.98R | TARGET | 1 |
| 11 | 2025-05-19 | LONG | 22025.75 | 22088.11 | +$1,233 | 1.97R | TARGET | 1 |
| 12 | 2025-05-21 | LONG | 22047.25 | 22104.54 | +$1,132 | 1.97R | TARGET | 1 |
| 13 | 2025-05-27 | LONG | 21990.25 | 22027.75 | +$736 | 1.95R | TARGET | 1 |
| 14 | 2025-05-30 | SHORT | 22024.75 | 22056.18 | -$643 | -1.01R | STOP | 1 |
| 15 | 2025-06-17 | SHORT | 22565.00 | 22587.54 | -$465 | -1.01R | STOP | 1 |
| 16 | 2025-06-23 | LONG | 22378.00 | 22440.14 | +$1,229 | 1.97R | TARGET | 1 |
| 17 | 2025-07-10 | SHORT | 23497.25 | 23438.54 | +$1,160 | 1.97R | TARGET | 1 |
| 18 | 2025-07-11 | LONG | 23429.75 | 23465.11 | +$693 | 1.94R | TARGET | 1 |
| 19 | 2025-07-14 | LONG | 23406.00 | 23451.86 | +$903 | 1.96R | TARGET | 14 |
| 20 | 2025-07-15 | LONG | 23657.50 | 23631.00 | -$544 | -1.01R | STOP | 14 |
| 21 | 2025-07-21 | LONG | 23822.00 | 23858.36 | +$713 | 1.95R | TARGET | 1 |
| 22 | 2025-07-22 | SHORT | 23726.25 | 23676.89 | +$973 | 1.96R | TARGET | 1 |
| 23 | 2025-07-24 | SHORT | 23841.75 | 23866.96 | -$518 | -1.01R | STOP | 21 |
| 24 | 2025-08-05 | LONG | 23840.25 | 23809.14 | -$636 | -1.01R | STOP | 1 |
| 25 | 2025-08-06 | LONG | 23715.75 | 23678.75 | -$754 | -1.01R | STOP | 1 |
| 26 | 2025-08-08 | LONG | 24094.50 | 24142.14 | +$939 | 1.96R | TARGET | 1 |
| 27 | 2025-08-12 | SHORT | 24209.75 | 24242.25 | -$664 | -1.01R | STOP | 1 |
| 28 | 2025-08-15 | SHORT | 24347.25 | 24292.11 | +$1,089 | 1.96R | TARGET | 29 |
| 29 | 2025-08-19 | SHORT | 24188.75 | 24124.82 | +$1,264 | 1.97R | TARGET | 1 |
| 30 | 2025-09-03 | SHORT | 23891.50 | 23924.07 | -$666 | -1.01R | STOP | 1 |
| 31 | 2025-09-04 | SHORT | 23975.75 | 24010.82 | -$716 | -1.01R | STOP | 7 |
| 32 | 2025-09-18 | LONG | 24947.00 | 24990.71 | +$860 | 1.96R | TARGET | 1 |
| 33 | 2025-10-01 | SHORT | 25047.75 | 25071.04 | -$480 | -1.01R | STOP | 1 |
| 34 | 2025-10-03 | SHORT | 25378.50 | 25410.96 | -$663 | -1.01R | STOP | 97 |
| 35 | 2025-10-22 | SHORT | 25467.50 | 25393.00 | +$1,476 | 1.97R | TARGET | 1 |
| 36 | 2025-10-24 | SHORT | 25763.50 | 25792.71 | -$598 | -1.01R | STOP | 15 |
| 37 | 2025-10-31 | SHORT | 26401.25 | 26436.04 | -$710 | -1.01R | STOP | 17 |
| 38 | 2025-11-04 | LONG | 26021.50 | 26085.71 | +$1,270 | 1.97R | TARGET | 1 |
| 39 | 2025-11-12 | SHORT | 25934.75 | 25860.32 | +$1,474 | 1.97R | TARGET | 1 |
| 40 | 2025-12-08 | SHORT | 26015.00 | 25942.43 | +$1,437 | 1.97R | TARGET | 1 |
| 41 | 2025-12-09 | LONG | 25873.75 | 25921.46 | +$940 | 1.96R | TARGET | 2 |
| 42 | 2025-12-10 | LONG | 25869.00 | 25840.61 | -$582 | -1.01R | STOP | 7 |
| 43 | 2025-12-11 | SHORT | 25787.00 | 25825.36 | -$781 | -1.01R | STOP | 1 |
| 44 | 2025-12-22 | SHORT | 25728.50 | 25669.57 | +$1,164 | 1.97R | TARGET | 2 |
| 45 | 2025-12-26 | SHORT | 25881.50 | 25906.32 | -$511 | -1.01R | STOP | 33 |
| 46 | 2025-12-29 | SHORT | 25739.25 | 25767.00 | -$569 | -1.01R | STOP | 6 |
| 47 | 2025-12-30 | LONG | 25718.50 | 25695.14 | -$481 | -1.01R | STOP | 1 |
| 48 | 2026-01-07 | LONG | 25822.25 | 25882.46 | +$1,190 | 1.97R | TARGET | 3 |
| 49 | 2026-01-08 | SHORT | 25688.25 | 25619.75 | +$1,356 | 1.97R | TARGET | 25 |
| 50 | 2026-01-12 | LONG | 25826.50 | 25886.79 | +$1,192 | 1.97R | TARGET | 1 |
| 51 | 2026-02-02 | LONG | 25714.75 | 25781.96 | +$1,330 | 1.97R | TARGET | 1 |

---

## Strategy 2: OR Acceptance (London Level Continuation)

### Concept

The mirror of OR Reversal. Instead of fading the Judas swing, this strategy trades the continuation when price BREAKS a London level at the open and HOLDS it (true acceptance, not a fake sweep).

**Key distinction:**
- **OR Reversal:** EOR extreme SPIKES beyond London level (fake move) → price REVERSES back through OR mid → SHORT
- **OR Acceptance:** Entire EOR stays BELOW London Low (full break) → price holds below → SHORT at 50% retest

### Performance Summary

```
Trades:    0 (0% of 260 sessions)
Status:    Valid logic, conditions too strict for NQ
```

### Why 0 Trades

The acceptance condition requires the **entire EOR range** to be on one side of the London level:

```python
# SHORT condition:
eor_high < london_low  # EVERY bar in first 30 min below London Low

# LONG condition:
eor_low > london_high  # EVERY bar in first 30 min above London High
```

On NQ, the EOR range is typically 100-250 points. London levels are usually within that range, making it extremely rare for the entire 30-minute opening range to remain completely on one side.

This is **not a bug** — it's a genuinely strict market structure condition. On less volatile instruments (ES, YM) or during specific market regimes, this could produce trades.

### Detection Logic

**Implementation:** `strategy/or_acceptance.py` (308 lines)

#### Acceptance Conditions

```python
# SHORT: entire EOR below London Low (no spike above = true acceptance)
if london_low and eor_high < london_low and or_low < london_low and bias <= 0:
    # Price truly broke below and held → continuation SHORT

# LONG: entire EOR above London High (no dip below = true acceptance)
if london_high and eor_low > london_high and or_high > london_high and bias >= 0:
    # Price truly broke above and held → continuation LONG
```

#### Bias Score (Direction Resolver)

When both London levels could be in play, a bias score resolves direction:

```python
# Bullish factors (+1 each):
#   Asia Low swept, London Low swept, PDL held, Prior VAL held, Open above POC

# Bearish factors (-1 each):
#   Asia High swept, London High swept, PDH held, Prior VAH held, Open below POC

# SHORT only if bias <= 0 (bearish/neutral)
# LONG only if bias >= 0 (bullish/neutral)
```

#### Entry: 50% Retest

```python
# SHORT: after acceptance below London Low
ib_low = min(all_ib_bars)
fifty_pct = ib_low + (london_low - ib_low) * 0.50
# Enter when price bounces to 50% and turns back down

# LONG: after acceptance above London High
ib_high = max(all_ib_bars)
fifty_pct = ib_high - (ib_high - london_high) * 0.50
# Enter when price dips to 50% and turns back up
```

#### Risk Management

```python
ATR_STOP_MULT = 0.5  # Stop: 0.5 × ATR(14) beyond acceptance level
# Tighter stop than OR Reversal because acceptance has confirmed direction
TARGET_R = 2.0       # 2R target
```

### Session Context Fields Used

| Field | Purpose |
|-------|---------|
| `ib_bars` | DataFrame of first 60 × 1-min bars |
| `london_high`, `london_low` | London session range — the primary acceptance levels |
| `asia_high`, `asia_low` | For bias score computation |
| `pdh`, `pdl` | For bias score computation |
| `prior_va_high`, `prior_va_low`, `prior_va_poc` | For bias score computation |

### Signal Metadata

```python
metadata = {
    'acceptance_level': float,   # London level that was accepted
    'acceptance_name': str,      # "LDN_HIGH" or "LDN_LOW"
    'fifty_pct_level': float,    # 50% retest entry zone
    'ib_high': float,            # IB high at signal time
    'ib_low': float,             # IB low at signal time
    'atr14': float,              # ATR(14) for stop buffer
    'bias_score': int,           # Directional bias (-5 to +5)
    'cvd_declining': bool,       # (SHORT) CVD confirmation
    'cvd_rising': bool,          # (LONG) CVD confirmation
}
```

### Research Opportunities

1. **Relax the condition:** Instead of requiring entire EOR below London Low, allow 1-2 wicks above (e.g., `max_wicks_above = 2`). This would capture sessions where a brief spike was quickly rejected.
2. **Use IB period instead of EOR:** Check acceptance after the full 60-min IB instead of 30-min EOR. More time = higher chance of the range being one-sided.
3. **Test on ES/YM:** Lower-volatility instruments may produce more acceptance events.
4. **Combine with OR Reversal:** If OR Reversal doesn't fire (no sweep detected), check for acceptance as a fallback continuation signal.

---

## Implementation Reference

### File Map

| File | Lines | Purpose |
|------|-------|---------|
| `strategy/or_reversal.py` | 404 | OR Reversal strategy (StrategyBase subclass) |
| `strategy/or_acceptance.py` | 308 | OR Acceptance strategy (StrategyBase subclass) |
| `strategy/base.py` | ~100 | StrategyBase ABC (on_session_start, on_bar) |
| `strategy/signal.py` | ~50 | Signal dataclass |
| `strategy/__init__.py` | ~40 | Strategy registry (ALL_STRATEGIES list) |
| `engine/backtest.py` | ~800 | Backtest engine (session loop, bar loop) |
| `config/constants.py` | ~200 | All magic numbers |
| `docs/OR-trade-design.md` | 236 | OR Reversal design doc with sample code |

### How the Engine Calls Strategies

```python
# engine/backtest.py flow:
for session in sessions:
    # 1. Compute IB (first 60 bars)
    # 2. Build session_context with all levels
    # 3. Call strategy.on_session_start(date, ib_h, ib_l, ib_range, session_context)
    # 4. For each post-IB bar:
    #      signal = strategy.on_bar(bar, bar_index, session_context)
    #      if signal: execute_trade(signal)
```

Both OR strategies use `trades_pre_ib = True`, which means they scan IB bars during `on_session_start()` and cache their signal. The cached signal is emitted on the first `on_bar()` call after IB ends.

### Key Implementation Patterns

**Cached signal pattern** (both strategies use this):
```python
def on_session_start(self, ...):
    self._cached_signal = None
    self._signal_emitted = False
    # ... scan IB bars, build signal if conditions met ...
    self._cached_signal = Signal(...)

def on_bar(self, bar, bar_index, session_context):
    if self._cached_signal and not self._signal_emitted:
        self._signal_emitted = True
        signal = self._cached_signal
        self._cached_signal = None
        return signal
    return None
```

**CVD divergence check:**
```python
deltas = ib_bars['delta'].fillna(0)
cvd_series = deltas.cumsum()
cvd_at_extreme = cvd_series.loc[extreme_bar_idx]
cvd_at_entry = cvd_series.loc[entry_bar_idx]
cvd_declining = cvd_at_entry < cvd_at_extreme  # SHORT confirmation
```

**Closest-level sweep detection:**
```python
def _find_closest_swept_level(eor_extreme, candidates, threshold, eor_range):
    best_level, best_name, best_dist = None, None, float('inf')
    for name, lvl in candidates:
        dist = abs(eor_extreme - lvl)
        if dist < threshold and dist <= eor_range and dist < best_dist:
            best_dist, best_level, best_name = dist, lvl, name
    return best_level, best_name
```

### NT8 Indicator Counterparts

| Python | NT8 | Status |
|--------|-----|--------|
| `strategy/or_reversal.py` | `Indicators/RockitORReversalSignal.cs` (~900 lines) | Confirmed working on live chart |
| `strategy/or_acceptance.py` | `Indicators/RockitORAcceptanceSignal.cs` (~700 lines) | Built, needs live validation |

The NT8 versions include full visual annotations (TV-style R:R zones, entry/stop/target lines, offset callout boxes) and trace logging. See `CLAUDE.md` for NT8 coding rules and annotation patterns.

### How to Reproduce

```bash
# Run OR Reversal backtest
E:/anaconda/python.exe scripts/run_backtest.py --strategies "Opening Range Rev" \
    --instrument NQ --max-drawdown 999999

# Run OR Acceptance backtest
E:/anaconda/python.exe scripts/run_backtest.py --strategies "OR Acceptance" \
    --instrument NQ --max-drawdown 999999

# Run both together
E:/anaconda/python.exe scripts/run_backtest.py --strategies "Opening Range Rev" "OR Acceptance" \
    --instrument NQ --max-drawdown 999999

# Trade log output: output/trade_log.csv (22 columns)
```

**IMPORTANT:** Always use `--max-drawdown 999999` to disable the default $4,000 daily loss limit, which silently blocks trades after early losses and breaks strategy state tracking.

---

## Key Findings for Research

1. **OR Reversal is the star strategy** — 60.8% WR, PF 2.98, only 2 small losing months in 12.
2. **LONG side dominates** — 75% WR for LONG vs 48% SHORT. NQ's persistent long bias means buying Judas swing lows is the highest-probability setup.
3. **Winners resolve fast** — 6.5 bars average (< 7 min). Losers linger at 11.4 bars.
4. **Clean binary exits** — 100% of trades exit at target or stop. No partial fills, no trailing, no time exits.
5. **50% retest entry > direct entry** — Entering at the 50% zone of the sweep-to-reversal move outperforms entering at OR mid crossing.
6. **All drives allowed** — Removing the "NOT fading" filter was critical. DRIVE_UP + HIGH sweep = classic Judas swing and should be traded.
7. **OR Acceptance needs relaxed conditions** — 0 trades in 260 sessions. Consider allowing 1-2 wick violations or using IB period instead of EOR.
8. **Fixed 2R target is optimal** — Trailing stops regress P&L by 45% (tested separately).
9. **Signal rate is 19.6%** — ~1 trade per 5 sessions. Low frequency but high quality.

---

*Generated by Claude on the `feature/next-improvements` branch.*
*Dataset: 260 NQ sessions, Feb 2025 – Feb 2026.*
*Engine: BookMapOrderFlowStudies-2 Python backtest framework.*
